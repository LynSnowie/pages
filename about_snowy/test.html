<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="About Snowy, Music">
        <meta name="author" content="Lyn Snow">
		<title>Snowy's Site - About Snowy, Music</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="language" content="English">
        <link href="https://fonts.googleapis.com/css?family=Work+Sans:100,200,300,400,700,800" rel="stylesheet">
        <link rel="stylesheet" href="../../misc/css/open-iconic-bootstrap.min.css">
        <link rel="stylesheet" href="../../misc/css/animate.css">
        <link rel="stylesheet" href="../../misc/css/owl.carousel.min.css">
        <link rel="stylesheet" href="../../misc/css/owl.theme.default.min.css">
        <link rel="stylesheet" href="../../misc/css/magnific-popup.css">
        <link rel="stylesheet" href="../../misc/css/aos.css">
        <link rel="stylesheet" href="../../misc/css/ionicons.min.css">
        <link rel="stylesheet" href="../../misc/css/bootstrap-datepicker.css">
        <link rel="stylesheet" href="../../misc/css/jquery.timepicker.css">
        <link rel="stylesheet" href="../../misc/css/flaticon.css">
        <link rel="stylesheet" href="../../misc/css/icomoon.css">
		<link rel="stylesheet" href="../../styles.css">

		<style>
			body {
				margin: 0;
				height: 100%;
				background: linear-gradient(135deg, #00FF7F, #8A2BE2, #FFA500);
				background-size: 300% 300%;
				animation: gradientAnimation 10s ease infinite;
			}

            .audiolist {
                display: flex;
                flex-wrap: wrap;
                gap: 2rem;
            }
			.audiolist h3 {
				color:white
			}
            .audiolistitem {
                background-color: #2e104b;
				border-radius: 20px;
				border: #00FF7F;
  				border-style: solid;
				border-color: #00FF7F;
                flex: 5;
                height: 300px;
                width: 400px;
            }

			audio {color: black;}

			@keyframes gradientAnimation {
				0% {
					background-position: 0% 50%;
				}
				50% {
					background-position: 100% 50%;
				}
				100% {
					background-position: 0% 50%;
				}
			}
			

			/* Header container styling */
			.header-container {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 20px;
			}

			/* Currently-playing section */
			.currently-playing {
				position: relative;
				display: flex;
				flex-direction: column;
				align-items: center;
				background-color: #333;
				visibility: shown;
				height: 80px;
				width: 380px;
				border-bottom-left-radius: 20px;
				border-bottom-right-radius: 20px;
				margin: 0 auto; /* Center horizontally */
				top: 0px; /* Space it under the header */
			}

			.currently-playing-bottom {
				position: relative;
				display: flex;
				flex-direction: column;
				align-items: center;
				background-color: #333;
				visibility: shown;
				height: 80px;
				width: 380px;
				border-top-left-radius: 20px;
				border-top-right-radius: 20px;
				margin: 0 auto; /* Center horizontally */
				top: 0px; /* Space it under the header */
			}

			/* Canvas positioning */
			canvas {
				width: 300px;
				height: 50px;
				padding-bottom: 5px;
			}
		</style>
	</head>
	<body>
		<header>
			<div class="header-container">
				<h1><span class="highlight">Kitsune</span> Hub</h1>
				<nav>
					<ul>
						<ul id="header-nav"></ul>
					</ul>
				</nav>
			</div>
		</header>

		<main>
            <section class="intro1">
                <!-- Currently playing section centered -->
                <div class="currently-playing">
                    <canvas id="visualizer"></canvas>
                </div>
            </section>
			<section class="intro">
				<h2 style="padding-bottom: 50px; color: black">Snowy's Music Playlist</h2>
                <h1 style="font-size: 50px; color: black; padding-bottom: 100px;">TW: Some of the songs are loud. Lower the volume of them before listening to them to not blow out your eardrums.</h1>
				<!-- <p>Meow <span class="highlight">meow.</span></p> -->
				<div class="audiolist" id="audiolist"></div>
			</section>
            <section class="intro1">
                <!-- Currently playing section centered -->
                <div class="currently-playing-bottom">
                    <canvas id="visualizerbottom"></canvas>
                </div>
            </section>
		</main>
		
		<footer>
			<div class="footer-container">
				<h1><span class="highlight">Kitsune</span> Hub</h1>
				<nav>
					<ul>
						<ul id="footer-nav"></ul>
					</ul>
				</nav>
			</div>
		</footer>
		<script src="../../js/jquery.min.js"></script>
		<script src="../../js/jquery-migrate-3.0.1.min.js"></script>
		<script src="../../js/popper.min.js"></script>
		<script src="../../js/bootstrap.min.js"></script>
		<script src="../../js/jquery.easing.1.3.js"></script>
		<script src="../../js/jquery.waypoints.min.js"></script>
		<script src="../../js/jquery.stellar.min.js"></script>
		<script src="../../js/owl.carousel.min.js"></script>
		<script src="../../js/jquery.magnific-popup.min.js"></script>
		<script src="../../js/aos.js"></script>
		<script src="../../js/jquery.animateNumber.min.js"></script>
		<script src="../../js/bootstrap-datepicker.js"></script>
		<script src="../../js/jquery.timepicker.min.js"></script>
		<script src="../../js/scrollax.min.js"></script>
		<script src="../../js/main.js"></script>

		<script src="../../js/pages/home.js"></script>

		<script>
			const musicFiles = [
                { title: "Down Under", artist: "SharaX", url: "about:blank", },
                { title: "Livin' In the Sunlight, Lovin' In the Moon Light", artist: "Tiny Tim", url: "about:blank"},
                { title: "Danger Zone", artist: "Kenny Loggins", url: "free bird!", },
                { title: "Dream On", artist: "Aerosmith", url: "free bird!", },
                { title: "Free Bird", artist: "Lynyrd Shynyrd", url: "about:blank", },
                { title: "Get Lucky", artist: "Daft Punk", url: "about:blank", },
                { title: "Goofy Goober Rock", artist: "Tom Rothrock and Jim Wis", url: "about:blank", },
                { title: "Happy", artist: "Pharrel Williams", url: "about:blank", },
                { title: "Intruder Alert (Metal)", artist: "Metal Fortress", url: "about:blank", },
                { title: "Easy Lemon", artist: "Kevin Macleod", url: "about:blank", },
                { title: "Lethal Company Ice Cream Song (Metal)", artist: "Lame Genie, Lethal Company by Zeekerss", url: "about:blank", },
                { title: "Lethal Company Ice Cream Song (But with Lyrics)", artist: "Musical Unicorn, Lethal Company by Zeekerss", url: "about:blank", },
                { title: "Loonboon", artist: "Laura Shigihara", url: "about:blank", },
                { title: "Miss You", artist: "Oliver Tree", url: "about:blank", },
                { title: "Nyan cat", artist: "Chris Torres", url: "about:blank", },
                { title: "I Don't Care Anymore", artist: "Phil Collins", url: "about:blank", },
                { title: "Pop It, Don't Drop It! (TF2 mix and original)", artist: "Lynyrd Shynyrd", url: "about:blank", },
                { title: "Here I Come (Metal cover)", artist: "FalKKonE, DOORS by LSplash", url: "about:blank", },
                { title: "Radioactive", artist: "Imagine Dragons", url: "about:blank", },
                { title: "Shake It Off", artist: "Taylor Swift", url: "about:blank", },
                { title: "TF2 Soldier of Dance (Metal cover)", artist: "Metal Fortress", url: "about:blank", },
                { title: "WAR!", artist: "DWL1993, Kriz (Orginal)", url: "about:blank", },
                { title: "What is Love", artist: "Haddaway", url: "about:blank", },
                { title: "Spooky, Scary Skeletons", artist: "Andrew Gold", url: "about:blank", },
                { title: "Why Not", artist: "Ghostface Playa", url: "about:blank", },
                { title: "Can You Feel My Heart", artist: "Instrumental", realartist: "Bring Me The Horizon", url: "about:blank", },
                { title: "The Entertainer", artist: "Scott Joplin", url: "about:blank", },
                { title: "Supernova", artist: "Laszlo", url: "about:blank", },
                { title: "Lacrimosa", artist: "Mozart", url: "about:blank", },
                { title: "Pixelland", artist: "Kevin Macleod", url: "about:blank", },
                { title: "Ripped Pants", artist: "Jeff and Barry", url: "about:blank", },
                { title: "AR?A_M4TH", artist: "bxnwxghxrn", url: "about:blank", },
                { title: "Party Rock Anthem", artist: "LMAFO, Lauren Bennett, GoonRock", url: "about:blank", },
                { title: "Can You Feel My Heart", artist: "Bring Me The Horizon", url: "about:blank", },
                { title: "Boom Boom Boom Boom!!", artist: "Vengaboys", url: "about:blank", },
                { title: "Nightcore - Monster", artist: "Skillet", url: "about:blank", },
                { title: "Thief", artist: "Ookay", url: "about:blank", },
                { title: "Indigo Park Credits Song", artist: "RecD and OtterBoyVA", url: "about:blank", },
                { title: "Welcome to Indigo Park", artist: "RecD and Jakeneutron", url: "about:blank", },
                { title: "Rambley Express", artist: "RecD and Jakeneutron", url: "about:blank", },
                { title: "BARNSTORMING", artist: "RecD and Jakeneutron", url: "about:blank", },
                { title: "Winds Of Fjords", artist: "Soft Knees", url: "about:blank", },
                { title: "Western Spaghetti", artist: "Eric Gemsa", url: "about:blank", },
                { title: "Cowboy Song", artist: "Sight of Wonders", url: "about:blank", },
                { title: "Graze the Roof, PvZ 2 Modern Day Mid-Wave B, Fanmade Remix", artist: "liledix4", url: "about:blank", },
                { title: "Kazotsky Kick - Team Fortress 2 [NoteBlock Remix]", artist: "NoteBlock", url: "about:blank", },
                { title: "All Eyes on Me", artist: "Conro (Monstercat)", url: "about:blank", },
                { title: "8-Bit Weapon - M.U.L.E", artist: "Akita Neru", url: "about:blank", },  // break here
	            { title: "Level Up", artist: "Raccy", url: "about:blank", subfolder: "added", },
                { title: "Moon Theme Remix", artist: "Plasma3 Music", url: "about:blank", subfolder: "added", },
                { title: "our hearts collide", artist: "iamsleepless", url: "about:blank", subfolder: "added", },
                { title: "Cadaver", artist: "Bonnie37 Electro", url: "about:blank", subfolder: "added", },
                { title: "Relax Sound", artist: "Bonnie37 Electro", url: "about:blank", subfolder: "added", },
                { title: "Sleep Sea", artist: "Bonnie37 Electro", url: "about:blank", subfolder: "added", },
                { title: "Protogen Evolution", artist: "Bonnie37 Electro", url: "about:blank", subfolder: "added", },
	            { title: "Bodies", artist: "Drowning Pool", url: "about:blank", subfolder: "added", },  // break here
                { title: "turn back", artist: "wiv", url: "about:blank", subfolder: "added", },
                { title: "sxrry", artist: "wiv", url: "about:blank", subfolder: "added", },
                { title: "Memories", artist: "Gildarts", url: "about:blank", subfolder: "added", },
                { title: "Ocean Eyes", artist: "Gildarts", url: "about:blank", subfolder: "added", },
                { title: "INVERSE REALITY", artist: "ZÃ˜MB", url: "about:blank", subfolder: "added", },
                { title: "Lonely Day", artist: "System Of A Down", url: "about:blank", subfolder: "added", hasinstrumental: false, },
                { title: "Another Mistake", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: true, },
                { title: "Silly Plans", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: true, },
                { title: "I Forgot That You Exist Â¯\\_(ãƒ„)_/Â¯", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, }, // Â¯\_(ãƒ„)_/Â¯
                { title: "You Made Me Fall in Love ðŸ’–", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
                { title: "Bitter and Blunt âœ¨", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
                { title: "Paper Alibis", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
                { title: "Dandelion ðŸŒ¼", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
                { title: "Circus Hop", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: true, },
                { title: "It's Normal", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: true, },
                { title: "You'll Be Gone", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: true, },
                { title: "You're Just Like Pop Music", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: true, },
                { title: "Top 10 Things to Do Before You Die", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: true, },
                { title: "Fallacy", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: true, },
                { title: "Trash Talkin'", artist: "YonKaGor and kennyoung", url: "about:blank", subfolder: "added", hasinstrumental: true, },
                { title: "Silly Plans ~ Revisit", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: true, },
                { title: "Memory Merge", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: true, },
                { title: "Waterland", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: true, }, // break here
                { title: "Loner", artist: "kennyoung", url: "about:blank", subfolder: "added", hasinstrumental: false, },
                { title: "Nothing", artist: "kennyoung", url: "about:blank", subfolder: "added", hasinstrumental: false, },
                { title: "See You!", artist: "kennyoung and YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
                { title: "First Date", artist: "blink-182", url: "about:blank", subfolder: "added", hasinstrumental: false, },
                { title: "Suicider", artist: "kennyoung", url: "about:blank", subfolder: "added", hasinstrumental: false, },
                { title: "I Don't Give A Shit", artist: "kennyoung", url: "about:blank", subfolder: "added", hasinstrumental: false, } // TODO: ADD THIS
                // { title: "", artist: "kennyoung", url: "about:blank", subfolder: "added", hasinstrumental: true, },

            ];

            const indexes = {
                main: 0,
                added: 0
            };

            const container = document.getElementById("audiolist");  // Get the container where the audio elements will be added

            musicFiles.forEach((file, index) => { // Iterate through each music file and create the necessary HTML elements
                // let index;

                // if (file.subfolder) {
                //     index = indexes[file.subfolder];
                //     indexes[file.subfolder]++;
                // } else {
                //     index = indexes.main;
                //     indexes.main++;
                // }

                const div = document.createElement("div"); // Create a div element to hold each audio item
                div.classList.add("audiolistitem");
                div.id.add = file.title

                const h3 = document.createElement("h3");  // Create an h3 element for the music title and artist
            
                if (file.realartist != null) {
                    h3.textContent = `${index + 1}. ${file.title} (${file.artist}) \nby ${file.realartist}`;
                } else {
                    h3.textContent = `${index + 1}. ${file.title} \nby ${file.artist}`;
                }

                const audio = document.createElement("audio"); // Create an audio element with controls

                file.element = audio;

                audio.title = file.title
                audio.controls = true;
                audio.loop = true;
                audio.controlsList = "nodownload";
                audio.volume = 0.5
                const source = document.createElement("source"); // Create a source element for the audio file
            
                // source.title = file.title

                let track = "";
                let currentSong = "";

                audio.id = file.title

                audio.addEventListener('play', () => {
                    musicFiles.forEach((otherAudio, i) => {
                        if (otherAudio.title == file.title) {
                            // console.log(audio);
                            console.log(file);
                            track = file.title;
                            currentSong = file.title;
                            // otherAudio.play();
                        } else {
                            // console.log(otherAudio);
                            // console.log(otherAudio.element);
                            otherAudio.element.pause();
                            // console.log(`Pause ${otherAudio.title}`);
                        }
                    });

                    const audioplayer = document.getElementById("audio-player");
                    const audioplayerbottom = document.getElementById("audio-player-bottom");
                    const canvas = document.getElementById("visualizer");
                    const canvasbottom = document.getElementById("visualizerbottom");
                    const ctx = canvas.getContext("2d");
                    const ctxbottom = canvasbottom.getContext("2d");
                    const audioContext = new AudioContext();
                    const audioSource = audioContext.createMediaElementSource(audio);
                    const analyser = audioContext.createAnalyser();
                            
                    audioSource.connect(analyser);
                    analyser.connect(audioContext.destination);

                    analyser.fftSize = 64;
                    const bufferLength = analyser.frequencyBinCount;
                    const dataArray = new Uint8Array(bufferLength);

                    function draw() {
                        requestAnimationFrame(draw);

                        analyser.getByteFrequencyData(dataArray);

                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                        ctxbottom.clearRect(0, 0, canvasbottom.width, canvasbottom.height);
                        // console.log(dataArray);
                        dataArray.forEach((value, index) => {
                            const barHeight = value / 2;
                            const x = index * 15;
                            ctx.fillStyle = "rgba(0, 255, 0, 0.6)";
                            ctx.fillRect(x, canvas.height - barHeight, 10, barHeight);
                            ctxbottom.fillStyle = "rgba(0, 255, 0, 0.6)";
                            ctxbottom.fillRect(x, canvas.height - barHeight, 10, barHeight);
                        });
                    }

                    draw();
                });

                audio.addEventListener('pause', () => {
                    let allPaused = true;
                    musicFiles.forEach(otherAudio => {
                        if (!otherAudio.element.paused) {
                            allPaused = false;
                        }
                    });
                    if (allPaused) {
                        track = "";
                        currentSong = "";
                    }
                });

                if (file.subfolder == "added") {
                    // https://raw.githubusercontent.com/LynSnowie/misc/main/music
                    if (file.title == "I Forgot That You Exist Â¯\\_(ãƒ„)_/Â¯") {
                        source.src = `../../misc/snow/music/${file.subfolder}/I Forgot That You Exist.mp3`;
                    } else {
                        source.src = `../../misc/snow/music/${file.subfolder}/${file.title}.mp3`;
                    }
                } else {
                    source.src = `../../misc/snow/music/main/${index + 1}. ${file.title}.mp3`;
                }
                
                switch (file.title) { // Handle specific cases for special file names
                    case "Livin' In the Sunlight, Lovin' In the Moon Light":
                        source.src = `../../misc/snow/music/main/${index + 1}. Livin in the Sunlight Lovin in the Moon Light.mp3`;
                        break;
                    case "Intruder Alert (Metal)":
                        source.src = `../../misc/snow/music/main/${index + 1}. Intruder Alert Metal.mp3`;
                        break;
                    case "Lethal Company Ice Cream Song (Metal)":
                        source.src = `../../misc/snow/music/main/${index + 1}. Ice Cream Song Metal.mp3`;
                        break;
                    case "Lethal Company Ice Cream Song (But with Lyrics)":
                        source.src = `../../misc/snow/music/main/${index + 1}. Ice Cream Song With Lyrics.mp3`;
                        break;
                    case "I Don't Care Anymore":
                        source.src = `../../misc/snow/music/main/${index + 1}. I Dont Care Anymore.mp3`;
                        break;
                    case "Pop It, Don't Drop It! (TF2 mix and original)":
                        source.src = `../../misc/snow/music/main/${index + 1}. Pop it Dont Drop it!.mp3`;
                        break;
                    case "Here I Come (Metal cover)":
                        source.src = `../../misc/snow/music/main/${index + 1}. Here I Come.mp3`;
                        break;
                    case "TF2 Soldier of Dance (Metal cover)":
                        source.src = `../../misc/snow/music/main/${index + 1}. Soldier of Dance Metal.mp3`;
                        break;
                    case "AR?A_M4TH":
                        source.src = `../../misc/snow/music/main/${index + 1}. CARA_M4TH.mp3`;
                        break;
                    case "Nightcore - Monster":
                        source.src = `../../misc/snow/music/main/${index + 1}. ${file.title} (${file.artist}).mp3`;
                        break;
                    case "Thief":
                        source.src = `../../misc/snow/music/main/${index + 1}. ${file.artist} - ${file.title}.mp3`;
                        break;
                    case "8-Bit Weapon - M.U.L.E":
                        source.src = `../../misc/snow/music/main/${index + 1}. ROBLOX Music - 8-Bit Weapon - MULE (Bitblaster Mix).mp3`;
                        break;

                    case "":
                        break;
                    case "":
                        break;
                    case "":
                        break;
                    case "":
                        break;

                    // case "Level Up":
                    //     source.src = `../..misc/music/added/Raccy ES_Level Up.mp3`;
                    //     break;
                    // case "Moon Theme Remix":
                    //     source.src = `../..misc/glowy/Moon Theme Remix.mp3`;
                    //     break;
                    // case "our hearts collide":
                    //     source.src = `../..misc/glowy/our hearts collide.mp3`;
                    //     break;
                    // case "Cadaver":
                    //     source.src = `../..misc/glowy/Cadaver.mp3`;
                    //     break;
                    // case "Relax Sound":
                    //     source.src = `../..misc/glowy/Relax Sound.mp3`;
                    //     break;
                    // case "Sleep Sea":
                    //     source.src = `../..misc/glowy/Sleep Sea.mp3`;
                    //     break;
                    // case "Magic Fortuna":
                    //     source.src = `../../misc/glowy/Magic Fortuna.wav`;
                    //     break;
                    // case "Protogen Evolution":
                    //     source.src = `../..misc/glowy/Protogen Evolution.mp3`;
                    //     break;
                    // case "turn back":
                    //     source.src = `../..misc/music/wiv/${file.title}.mp3`;
                    //     break;
                    // case "sxrry":
                    //     source.src = `../..misc/music/wiv/${file.title}.mp3`;
                    //     break;
                    default:
                        break;
                }

                source.type = "audio/mp3"; // Set the type and title for the source element
                source.title = file.title;

                audio.id = file.title
                audio.appendChild(source); // Append the source to the audio element
                audio.id = file.title
                div.appendChild(h3); // Append the h3 and audio elements to the div
                audio.id = file.title
                div.appendChild(audio);
                audio.id = file.title

                switch (file.hasinstrumental) {
                    case true:
                        const audioinst = document.createElement("audio");
                        audioinst.controls = true;
                        audioinst.loop = true;
                        audioinst.controlsList = "nodownload";

                        const sourceinst = document.createElement("source");
                        sourceinst.src = `../../misc/snow/music/added/${file.title} (Instrumental).mp3`;
                        // sourceinst.src = `../../misc/music/added/${file.title} (Instrumental).mp3`;
                        sourceinst.type = "audio/mp3";
                        sourceinst.title = file.title;

                        audioinst.appendChild(sourceinst);
                        div.appendChild(audioinst);
                    
                    case false:
                        break;

                    case null:
                        break;
                }

                switch (file.title) {
                    case "Fallacy":
                        const audioFallacy = document.createElement("audio");
                        audioFallacy.controls = true;
                        audioFallacy.loop = true;
                        audioFallacy.controlsList = "nodownload";

                        const sourceFallacy = document.createElement("source");
                        sourceFallacy.src = `../../misc/snow/music/added/${file.title} (VOCALOID Version).mp3`
                        // sourceFallacy.src = `../../misc/music/added/${file.title} (Instrumental).mp3`;
                        sourceFallacy.type = "audio/mp3";
                        sourceFallacy.title = file.title;

                        audioFallacy.appendChild(sourceFallacy);
                        div.appendChild(audioFallacy);

                        break;
                }
                
                audio.id = file.title
                container.appendChild(div); // Append the div to the container
                audio.id = file.title
            });
		</script>
	</body>
</html>
